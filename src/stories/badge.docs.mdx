import { Meta, Canvas, Controls } from '@storybook/blocks'
import * as BadgeStories from './badge.stories'

<Meta of={BadgeStories} />

# Badge

A compact component for displaying status, labels, or categories with visual emphasis.

## Usage

```tsx
import { Badge } from '@tc96/ui-react'

function Example() {
  return <Badge variant="success">Active</Badge>
}
```

## Variants

### Neutral (Default)
<Canvas of={BadgeStories.Neutral} />

### Success
<Canvas of={BadgeStories.Success} />

### Warning
<Canvas of={BadgeStories.Warning} />

### Danger
<Canvas of={BadgeStories.Danger} />

### Accent
<Canvas of={BadgeStories.Accent} />

### All Variants
<Canvas of={BadgeStories.AllVariants} />

## Sizes

<Canvas of={BadgeStories.AllSizes} />

## Common Patterns

### Status Indicators
```tsx
<div className="flex items-center gap-2">
  <Badge variant="success">Active</Badge>
  <Badge variant="warning">Pending</Badge>
  <Badge variant="danger">Inactive</Badge>
  <Badge variant="neutral">Draft</Badge>
</div>
```

### With Count
```tsx
<div className="flex items-center gap-2">
  <span>Notifications</span>
  <Badge variant="accent">3</Badge>
</div>
```

### Category Tags
```tsx
<div className="flex flex-wrap gap-2">
  <Badge variant="accent">React</Badge>
  <Badge variant="accent">TypeScript</Badge>
  <Badge variant="accent">Tailwind</Badge>
</div>
```

### In Table
```tsx
<table>
  <tbody>
    <tr>
      <td>Project Alpha</td>
      <td>
        <Badge variant="success">Completed</Badge>
      </td>
    </tr>
    <tr>
      <td>Project Beta</td>
      <td>
        <Badge variant="warning">In Progress</Badge>
      </td>
    </tr>
  </tbody>
</table>
```

### With Icon
```tsx
import { Check, AlertCircle } from 'lucide-react'

<div className="flex gap-2">
  <Badge variant="success" className="gap-1">
    <Check className="size-3" />
    Verified
  </Badge>
  <Badge variant="warning" className="gap-1">
    <AlertCircle className="size-3" />
    Review Required
  </Badge>
</div>
```

### Version Badge
```tsx
<div className="flex items-center gap-2">
  <h2>Product Name</h2>
  <Badge size="sm" variant="accent">v2.0</Badge>
  <Badge size="sm" variant="success">New</Badge>
</div>
```

## Variant Guidelines

Choose the appropriate variant based on semantic meaning:

- **Neutral**: Default state, informational labels, categories
- **Success**: Completed, active, verified, approved states
- **Warning**: Pending, requires attention, caution states
- **Danger**: Error, critical, blocked, rejected states
- **Accent**: Highlighted items, new features, special tags

## Accessibility

- Badge is a `<div>` with inline-flex display
- Use semantic HTML around badges for context
- Don't rely on color alone for meaning
- For interactive badges, wrap in `<button>` with proper labels:
  ```tsx
  <button aria-label="Remove React tag">
    <Badge variant="accent">
      React <X className="ml-1 size-3" />
    </Badge>
  </button>
  ```

## Best Practices

✅ **Do:**
- Use consistent variants for similar states
- Keep text short (1-2 words)
- Use appropriate variant for semantic meaning
- Group related badges together
- Consider using small size for dense layouts

❌ **Don't:**
- Use badges for long text (use labels or chips instead)
- Mix too many variants in one area
- Use badges as buttons without proper semantics
- Rely solely on color to convey meaning
- Overuse badges (they lose emphasis)

## Dismissible Badges

For removable tags/filters:

```tsx
function DismissibleBadge({ children, onDismiss }) {
  return (
    <Badge variant="accent" className="gap-1 pr-1">
      {children}
      <button
        onClick={onDismiss}
        className="rounded-sm hover:bg-black/10"
        aria-label={`Remove ${children}`}
      >
        <X className="size-3" />
      </button>
    </Badge>
  )
}
```

## Props

<Controls />
